import{r as x,j as e,C as S,c as o,B as n,J as w,K as z}from"./index-iSoaFn0Q.js";import{u as L,a as $,C as t,t as I}from"./index-CODMlwzO.js";import{C as h,a as T,b as q,c as R,d as V,e as A}from"./card-B6ngMx-y.js";import{S as B,a as E,b as G,c as D,d as H}from"./select-Cpa19Mfj.js";import{I as u}from"./input-Dpv_YrRF.js";import{L as l}from"./label-DQ7xA-QL.js";import{C as j}from"./checkbox-DvOOoav-.js";import{T as v}from"./textarea-BY4mOd8v.js";import{R as J,a as m}from"./radio-group-DHzeQK7J.js";import"./index-BdQq_4o_.js";import"./index-krnk5cz6.js";const K=["كهرباء","سباكة","نجارة","تكييف وتبريد","دهانات","أعمال جبس","تركيب أثاث"],O=["تركيب","صيانة","فحص أعطال","تمديد أسلاك","إصلاح تسريبات","تشطيبات نهائية"];function re({className:g,...N}){const{register:c,handleSubmit:f,control:i,formState:{errors:r}}=L({defaultValues:{specialization:"",experienceLevel:void 0,skills:[],about:"",previousWorks:[],agreement:!1},mode:"onChange"}),{fields:b,append:d,remove:p}=$({control:i,name:"previousWorks"}),C=x.useCallback(a=>{p(a)},[p]),k=x.useCallback(()=>{d({title:"",description:""})},[d]),y=a=>{I.success("تم تسجيل بياناتك بنجاح!",{description:"سيتم مراجعة طلبك والرد عليك قريبًا."})};return e.jsx("div",{className:"bg-background w-full flex min-h-screen flex-col items-center justify-center gap-4 p-6 md:p-10",children:e.jsxs("div",{className:"w-full max-w-2xl flex flex-col gap-6",children:[e.jsx(S,{className:"w-50 self-center text-primary"}),e.jsx("div",{dir:"rtl",className:o("container mx-auto py-4",g),...N,children:e.jsxs(h,{className:"max-w-4xl mx-auto shadow-lg border",children:[e.jsxs(T,{className:"text-center space-y-2",children:[e.jsx(q,{className:"text-2xl font-bold",children:"سجّل مهاراتك وخبراتك كفني محترف"}),e.jsx(R,{children:"املأ النموذج التالي لعرض ملفك الشخصي للعملاء المحتملين"})]}),e.jsx(V,{children:e.jsxs("form",{onSubmit:f(y),className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 ",children:[e.jsx(l,{htmlFor:"specialization",children:"التخصص"}),e.jsx(t,{name:"specialization",control:i,rules:{required:"الرجاء اختيار التخصص"},render:({field:a})=>e.jsxs(B,{onValueChange:a.onChange,value:a.value,dir:"rtl",children:[e.jsx(E,{id:"specialization",className:r.specialization?"border-red-500":"",children:e.jsx(G,{placeholder:"اختر تخصصك"})}),e.jsx(D,{children:K.map(s=>e.jsx(H,{value:s,children:s},s))})]})}),r.specialization&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.specialization.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"سنوات الخبرة"}),e.jsx(t,{name:"experienceLevel",control:i,rules:{required:"الرجاء تحديد مستوى الخبرة"},render:({field:a})=>e.jsxs(J,{dir:"rtl",onValueChange:a.onChange,defaultValue:a.value,className:"flex items-center space-x-4 space-x-reverse pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(m,{value:"beginner",id:"beginner"}),e.jsx(l,{htmlFor:"beginner",className:"font-normal",children:"مبتدئ (0-2 سنوات)"})]}),e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(m,{value:"intermediate",id:"intermediate"}),e.jsx(l,{htmlFor:"intermediate",className:"font-normal",children:"متوسط (3-5 سنوات)"})]}),e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mr-4",children:[e.jsx(m,{value:"expert",id:"expert"}),e.jsx(l,{htmlFor:"expert",className:"font-normal",children:"خبير (+5 سنوات)"})]})]})}),r.experienceLevel&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.experienceLevel.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"المهارات (يمكنك اختيار أكثر من مهارة)"}),e.jsx(t,{name:"skills",control:i,rules:{validate:a=>a.length>0||"يجب اختيار مهارة واحدة على الأقل"},render:({field:a})=>e.jsx("div",{className:o("grid grid-cols-2 md:grid-cols-3 gap-4 rounded-md border p-4",r.skills?"border-red-500":""),children:O.map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{id:s,checked:a.value?.includes(s),onCheckedChange:W=>W?a.onChange([...a.value,s]):a.onChange(a.value?.filter(F=>F!==s))}),e.jsx(l,{htmlFor:s,className:"font-normal",children:s})]},s))})}),r.skills&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.skills.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"about",children:"نبذة تعريفية"}),e.jsx(v,{id:"about",placeholder:"اكتب نبذة قصيرة عنك وخبراتك العملية",className:o("min-h-[100px]",r.about?"border-red-500":""),...c("about",{required:"النبذة التعريفية مطلوبة",minLength:{value:20,message:"النبذة التعريفية يجب أن لا تقل عن 20 حرفًا"}})}),r.about&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.about.message})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"أعمالي السابقة"})}),b.map((a,s)=>e.jsx(h,{className:"p-4 bg-slate-50 relative",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:`previousWorks.${s}.title`,children:"عنوان العمل"}),e.jsx(u,{id:`previousWorks.${s}.title`,placeholder:"مثلاً: تركيب نظام تكييف في مجمع سكني",className:r.previousWorks?.[s]?.title?"border-red-500":"",...c(`previousWorks.${s}.title`,{required:"عنوان العمل مطلوب",minLength:{value:5,message:"العنوان يجب أن لا يقل عن 5 أحرف"}})}),r.previousWorks?.[s]?.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.previousWorks[s].title.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:`previousWorks.${s}.description`,children:"الوصف"}),e.jsx(v,{id:`previousWorks.${s}.description`,placeholder:"اكتب وصفاً مختصراً لطبيعة العمل المنفذ",className:r.previousWorks?.[s]?.description?"border-red-500":"",...c(`previousWorks.${s}.description`,{required:"وصف العمل مطلوب",minLength:{value:10,message:"الوصف يجب أن لا يقل عن 10 أحرف"}})}),r.previousWorks?.[s]?.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.previousWorks[s].description.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:`previousWorks.${s}.images`,children:"الصور"}),e.jsx(u,{id:`previousWorks.${s}.images`,type:"file",multiple:!0,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),e.jsx(n,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 left-2",onClick:()=>C(s),children:e.jsx(w,{className:"h-4 w-4"})})]})},a.id)),e.jsxs(n,{type:"button",variant:"outline",className:"w-full",onClick:k,children:[e.jsx(z,{className:"ml-2 h-4 w-4"}),"أضف عمل جديد"]})]}),e.jsxs("div",{className:"items-top flex space-x-2 space-x-reverse",children:[e.jsx(t,{name:"agreement",control:i,rules:{validate:a=>a===!0||"يجب الموافقة على الشروط للإرسال"},render:({field:a})=>e.jsx(j,{id:"agreement",checked:a.value,onCheckedChange:a.onChange})}),e.jsxs("div",{className:"grid gap-1.5 leading-none",children:[e.jsx(l,{htmlFor:"agreement",className:"font-normal cursor-pointer",children:"أقر بأن جميع الأعمال المعروضة من تنفيذي ولدي الصلاحية لنشرها"}),r.agreement&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.agreement.message})]})]}),e.jsx(A,{className:"p-0 pt-6",children:e.jsx(n,{type:"submit",size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-lg",children:"تسجيل"})})]})})]})})]})})}export{re as default};
