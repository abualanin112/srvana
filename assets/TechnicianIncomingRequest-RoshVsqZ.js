import{u as g,r as d,j as e,c,T as o,p as j,a0 as u,a1 as f,t as v,n as N,q as w,B as m,a2 as k,w as y}from"./index-iSoaFn0Q.js";import{C,a as I,b as _,d as A}from"./card-B6ngMx-y.js";import{A as E,a as R,b as T}from"./avatar-BfhNjtcc.js";import{B as l}from"./badge-BMZy6348.js";const s={id:"REQ-9876",customer:{name:"محمد علي",image:"https://i.pravatar.cc/150?u=mohamed",rating:4.8,type:"عميل مميز"},service:{category:"صيانة تكييف",subCategory:"صيانة مكيف سبليت",description:"المكيف لا يبرد بشكل جيد، ويصدر صوتاً غريباً عند التشغيل. تم تنظيف الفلاتر ولكن المشكلة مستمرة.",image:"https://images.unsplash.com/photo-1581094794329-c8112a89af12?q=80&w=1000&auto=format&fit=crop",attachments:["https://images.unsplash.com/photo-1621905251189-08b45d6a269e?w=150&h=150&fit=crop","https://images.unsplash.com/photo-1527011046414-4781f1f94f8c?w=150&h=150&fit=crop"]},location:{address:"الرياض، حي العليا، شارع التحلية",details:"بجوار مكتبة جرير، عمارة 15، الطابق الثالث، شقة 12",coordinates:{lat:24.7136,lng:46.6753},distance:"3.5 كم",duration:"10 دقائق"},schedule:{type:"now",time:"الآن (مستعجل)",date:"2024-11-26"},price:"250 - 300 ج.م"};function P(){const i=g(),[r,x]=d.useState(60),[h,p]=d.useState(100);d.useEffect(()=>{const a=setInterval(()=>{x(t=>t<=1?(clearInterval(a),n("timeout"),0):t-1),p(t=>t-1.6666666666666667)},1e3);return()=>clearInterval(a)},[]);const b=()=>{i("/technician/task-tracking",{state:{request:s}})},n=(a="manual")=>{i("/technician/reject-reason",{state:{request:s,autoReject:a==="timeout"}})};return e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 py-8 px-4 flex items-center justify-center",dir:"rtl",children:e.jsxs(C,{className:"w-full max-w-2xl border-0 shadow-2xl bg-white dark:bg-slate-900 overflow-hidden relative animate-in fade-in zoom-in-95 duration-500 ring-1 ring-slate-200 dark:ring-slate-800",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-slate-100 dark:bg-slate-800 z-20",children:e.jsx("div",{className:c("h-full transition-all duration-1000 ease-linear shadow-[0_0_10px_rgba(var(--primary),0.5)]",r>30?"bg-green-500":r>10?"bg-amber-500":"bg-red-500"),style:{width:`${h}%`}})}),e.jsxs(I,{className:"text-center pt-8 pb-6 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(l,{variant:"outline",className:c("gap-1.5 px-3 py-1.5 text-sm font-bold border-2",r>30?"border-green-100 text-green-600 bg-green-50":r>10?"border-amber-100 text-amber-600 bg-amber-50":"border-red-100 text-red-600 bg-red-50 animate-pulse"),children:[e.jsx(o,{className:"w-4 h-4"}),r," ثانية متبقية"]}),e.jsx(l,{variant:"secondary",className:"text-sm font-mono bg-slate-200 dark:bg-slate-800",children:s.id})]}),e.jsx(_,{className:"text-2xl font-black text-slate-900 dark:text-white",children:"طلب خدمة جديد"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium mt-1",children:"يرجى مراجعة التفاصيل والرد قبل انتهاء الوقت"})]}),e.jsxs(A,{className:"p-0",children:[e.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800",children:[e.jsxs(E,{className:"w-16 h-16 border-4 border-white dark:border-slate-700 shadow-sm",children:[e.jsx(R,{src:s.customer.image}),e.jsx(T,{children:s.customer.name[0]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:s.customer.name}),e.jsxs("div",{className:"flex items-center gap-3 text-sm mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1 text-amber-500 font-bold bg-amber-50 dark:bg-amber-900/20 px-2 py-0.5 rounded-md",children:["★ ",s.customer.rating]}),e.jsxs("span",{className:"text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[e.jsx(j,{className:"w-3.5 h-3.5"}),s.customer.type]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-lg",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(u,{className:"w-5 h-5"})}),"تفاصيل الخدمة"]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(l,{className:"text-sm py-1.5 px-4 bg-primary hover:bg-primary/90 shadow-sm",children:s.service.category}),e.jsx(l,{variant:"outline",className:"text-sm py-1.5 px-4 border-slate-200 dark:border-slate-700 font-medium",children:s.service.subCategory})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-2xl border border-slate-100 dark:border-slate-800",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed font-medium",children:s.service.description})}),s.service.attachments.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4 text-primary"})," المرفقات"]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:s.service.attachments.map((a,t)=>e.jsx("div",{className:"w-24 h-24 shrink-0 rounded-xl overflow-hidden border-2 border-slate-100 dark:border-slate-800 relative group cursor-pointer",children:e.jsx("img",{src:a,alt:"Attachment",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})},t))})]})]})]}),e.jsx(v,{}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-lg",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(N,{className:"w-5 h-5"})}),"الموقع"]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-3",children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:s.location.address}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:s.location.details}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-primary bg-primary/5 w-fit px-3 py-1 rounded-full",children:[e.jsxs("span",{children:["يبعد ",s.location.distance]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.location.duration," قيادة"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-lg",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(w,{className:"w-5 h-5"})}),"التوقيت"]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"الموعد"}),e.jsxs("span",{className:"font-bold text-red-500 flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4"}),s.schedule.time]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"التاريخ"}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:s.schedule.date})]})]})]})]})]})}),e.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 grid grid-cols-2 gap-4 shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.1)] z-10 relative",children:[e.jsxs(m,{onClick:()=>n("manual"),variant:"outline",className:"h-14 text-lg font-bold border-2 border-red-100 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-200 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-950/30 rounded-2xl gap-2 transition-all duration-300",children:[e.jsx(k,{className:"w-5 h-5"})," رفض الطلب"]}),e.jsxs(m,{onClick:b,className:"h-14 text-lg font-bold bg-green-600 hover:bg-green-700 text-white rounded-2xl gap-2 shadow-lg shadow-green-600/20 hover:shadow-green-600/40 hover:-translate-y-0.5 transition-all duration-300",children:[e.jsx(y,{className:"w-6 h-6"})," قبول المهمة"]})]})]})]})})}export{P as default};
